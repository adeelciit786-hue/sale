{% extends "base.html" %}

{% block title %}Dashboard - Sales Forecasting{% endblock %}

{% block content %}

<!-- ================= KPI CARDS ================= -->
<div class="kpi-grid">
    <div class="kpi-card">
        <div class="kpi-label">Today's Date</div>
        <div class="kpi-value">{{ data.kpis.today_date }}</div>
    </div>

    <div class="kpi-card">
        <div class="kpi-label">Total Sales</div>
        <div class="kpi-value">{{ data.kpis.total_sales_till_today }}</div>
    </div>

    <div class="kpi-card">
        <div class="kpi-label">Monthly Target</div>
        <div class="kpi-value">{{ data.kpis.monthly_target }}</div>
    </div>
</div>

<!-- ================= GRAPHS ================= -->
<div class="graph-container">
    <h3>Historical Daily Sales Trend</h3>
    <div id="graph-historical"></div>
</div>

<div class="graph-container">
    <h3>Average Sales by Weekday</h3>
    <div id="graph-weekday"></div>
</div>

<div class="graph-container">
    <h3>Current Month Forecast</h3>
    <div id="graph-forecast"></div>
</div>

<!-- ================= DATA BRIDGE (NO LOGIC) ================= -->
<script>
    window.DASHBOARD_GRAPHS = {{ data.graphs | tojson }};
</script>

{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
{% endblock %}
